<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neraca Penjumlahan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .scale-arm {
      transform-origin: center left;
      transition: transform 0.3s ease;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-amber-50 to-yellow-100 min-h-screen p-4 font-sans">

  <!-- Intro -->
  <div id="intro" class="max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-xl mb-6 border border-yellow-300">
    <h2 class="text-2xl font-bold text-yellow-600 text-center mb-4">Cara Bermain Neraca Penjumlahan</h2>
    <p class="text-gray-700 text-lg text-center mb-6">Tentukan jumlah total benda di sisi kiri dan kanan neraca agar seimbang. Jawaban benar akan menambah XP.</p>
    <div class="text-center">
      <button onclick="startGame()" class="bg-yellow-500 hover:bg-yellow-600 text-white text-lg font-bold px-8 py-3 rounded-full shadow-lg transition hover:scale-105">
        Mulai Bermain
      </button>
    </div>
  </div>

  <!-- Game Area -->
  <div id="gameArea" class="hidden max-w-xl mx-auto bg-white p-6 rounded-xl shadow-xl border border-yellow-300">
    <div class="flex justify-between mb-4">
      <button onclick="backToIntro()" class="text-yellow-600 hover:underline font-semibold">&larr; Kembali</button>
      <div class="text-sm text-gray-600">XP: <span id="xp">0</span></div>
    </div>

    <div class="text-center mb-4">
      <h2 class="text-2xl font-bold text-yellow-600">⚖️ Neraca Penjumlahan</h2>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
      <div class="text-center">
        <p class="text-gray-700 font-bold mb-2">Sisi Kiri</p>
        <div id="leftSide" class="text-xl font-mono"></div>
      </div>
      <div class="text-center">
        <p class="text-gray-700 font-bold mb-2">Sisi Kanan</p>
        <div id="rightSide" class="text-xl font-mono"></div>
      </div>
    </div>

    <div class="text-center mb-4">
      <label class="block text-gray-700 font-semibold mb-1">Berapa nilai yang hilang?</label>
      <input type="number" id="answer" class="border-2 border-yellow-300 rounded-full px-4 py-2 w-32 text-xl text-center font-bold">
    </div>

    <div id="feedback" class="text-center text-lg font-bold hidden mb-4"></div>

    <div class="text-center">
      <button onclick="checkAnswer()" id="checkBtn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold px-6 py-3 rounded-full">Periksa Jawaban</button>
      <button onclick="generateQuestion()" id="nextBtn" class="hidden bg-blue-500 hover:bg-blue-600 text-white font-bold px-6 py-3 rounded-full">Soal Berikutnya</button>
    </div>
  </div>

<script>
  let xp = parseInt(localStorage.getItem("xp_neraca")) || 0;
  let left = 0;
  let right = 0;
  let missing = 0;

  function startGame() {
    document.getElementById("intro").classList.add("hidden");
    document.getElementById("gameArea").classList.remove("hidden");
    document.getElementById("xp").textContent = xp;
    generateQuestion();
  }

  function backToIntro() {
    document.getElementById("intro").classList.remove("hidden");
    document.getElementById("gameArea").classList.add("hidden");
  }

  function generateQuestion() {
    const a = Math.floor(Math.random() * 9 + 1);
    const b = Math.floor(Math.random() * 9 + 1);
    missing = Math.floor(Math.random() * 10 + 1);

    left = a + b;
    right = missing;

    document.getElementById("leftSide").textContent = `${a} + ${b}`;
    document.getElementById("rightSide").textContent = `?`;
    document.getElementById("answer").value = "";
    document.getElementById("feedback").classList.add("hidden");
    document.getElementById("checkBtn").classList.remove("hidden");
    document.getElementById("nextBtn").classList.add("hidden");
  }

  function checkAnswer() {
    const guess = parseInt(document.getElementById("answer").value);
    const feedback = document.getElementById("feedback");

    if (guess === left) {
      xp += 10;
      localStorage.setItem("xp_neraca", xp);
      feedback.textContent = "✅ Benar! +10 XP";
      feedback.className = "text-center text-lg font-bold text-green-600 mb-4";
    } else {
      feedback.textContent = `❌ Salah. Jawaban yang benar adalah ${left}`;
      feedback.className = "text-center text-lg font-bold text-red-600 mb-4";
    }

    feedback.classList.remove("hidden");
    document.getElementById("checkBtn").classList.add("hidden");
    document.getElementById("nextBtn").classList.remove("hidden");
    document.getElementById("xp").textContent = xp;
  }
</script>

</body>
</html>
